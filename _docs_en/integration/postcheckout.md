---
layout: doc
title:  "Postcheckout"
section: integration
---

Данный код требуется разместить на странице успешного оформления заказа.

Если у вас несколько различных страниц успешно оформленного заказа — необходимо разместить код на каждой такой странице. Код интеграции должны сформировать на сервере ваши программисты (например, при помощи Java/Ruby/PHP/Perl).

```html
<script type="text/javascript">
    window.flocktory = window.flocktory || [];
    window.flocktory.push(['postcheckout', {
        user: {
            name: 'Ivan Ivanov',
            email: 'ivan@gmail.com',
            sex: 'm',
        },
        order: {
            id: '77',
            price: 2000,
            custom_field: 'my_custom_id',
            items: [{
                id: '777',
                title: 'Nike Shoes',
                price: 1000,
                image: 'http://path.to.image',
                count: 1
            }]
        }
    }]);
</script>
```

## Параметры кода интеграции
Код интеграции включает как обязательные, так и опциональные параметры. С технической точки зрения, нам достаточно лишь первых, но чем точнее и полнее переданные нам данные, тем лучше сможет работать наш рекомендательный сервис. Пожалуйста, старайтесь указывать как можно больше параметров.

### Обязательные параметры

Параметр | Значение | Коментарий
---------|----------|-------------
user → name | Полное имя пользователя. Например: Ivan Ivanov | Пожалуйста, передавайте нам имя пользователя как можно точнее. Персонализация элементов сильно влияет на конверсии.
user → email | Email пользователя | Уникальный идентификатор пользователя. Благодаря этому параметру мы понимаем, кто есть кто. Если вы по каким-то причинам не знаете email пользователя, но знаете его телефон, достаточно передать его в формате phone_number@unknown.email. Скорее всего, этот пользователь уже есть в нашей базе, и мы сможем обогатить ваши данные. Если вы ничего не знаете о пользователе, передайте этот параметр в формате id@unknown.email, где id — идентификатор пользователя в вашей системе.
Параметр | Значение | Коментарий
Параметр | Значение | Коментарий
Параметр | Значение | Коментарий

### Опциональные (необязательные) параметры


## Как проверить, что все сделано корректно?
Чтобы убедиться, что интеграция настроена верно и работает, оформите заказ, указав электронную почту hello@flocktory.com.

Если все оформлено правильно, вы увидите попап (всплывающее окно), где будет написано, что все работает.

Если же у вас возникнут ошибки, или вы не передадите нам нужные данные, в сообщении об ошибках будет указано, что именно вы забыли сделать.
