---
layout: doc
title:  "Push"
section: integration
---
Внимание! Для работы модуля обязательна корректная интеграция модулей [Pre-Checkout]({{ site.baseurl }}{% link _docs_ru/integration/precheckout.md %}) и [Post-Checkout]({{ site.baseurl }}{% link _docs_ru/integration/postcheckout.md %}), а также [общую интеграцию]({{ site.baseurl }}{% link _docs_ru/integration/general.md %})


Для того чтобы успешно пройти все шаги интеграции, необходимо иметь доступ и права делать следующие вещи:

* Добавлять/редактировать DNS записи вашего домена для того чтобы создавать CNAME запись.
* Размещать файлы в корне вашего домена


## Шаг 1: Создание CNAME записи в ваших домен DNS настройках
Для того чтобы создать запись, необходимо:

1.	Зайти в ваш DNS менеджер
2.	Создать новую CNAME запись
3.	Заполнить значения следующим образом:
    * Host: push
    * Points to: push.flocktory.com
    * TTL: 1 день
4.	Сохранить настройки и применить изменения.

### На что обратить внимание:
* значение CNAME DNS записи не может быть изменено после того, как пользователи подписались на получение push нотификаций.
* Flocktory настоятельно рекомендует называть запись “push”. В этом случае Ваша нотификация будет приходить от push.yourdomain.ru

### Как проверить, что всё сделано правильно?
Чтобы проверить шаг 1, нужно указать получившийся адрес push.yourdomain.ru на сервисе [whatsmydns](https://www.whatsmydns.net) и убедиться в том, что все сервера отвечают __push.flocktory.com__

## Шаг 2: Загрузите manifest.json и flock_push_worker.js в корень вашего домена

Итак, Вам нужно:

* Получить два файла (manifest.json и flock_push_worker.js) от Вашего аккаунт менеджера в Flocktory.
* Не меняя и не переименовывая файлы, загрузить их в корень вашего домена. Эти файлы должны быть доступны в корне (www.yourdomain.ru/)


#### На что обратить внимание:

* Файлы нужно разместить именно в корне сайта. Это требование технологии, подробнее можно ознакомиться здесь: [https://www.w3.org/TR/appmanifest/](https://www.w3.org/TR/appmanifest/)
* Если у вашего сайта есть мобильная версия или иной поддомен (например m.yourdomain.ru), файлы должны существовать также в корне этих версий.

#### Как проверить, что всё сделано правильно?

* Чтобы проверить шаг 2, откройте любой браузер и зайдите по cсылкам http://yourdomain.ru/manifest.json  и http://yourdomain.ru/flock_push_worker.js  (где yourdomain.ru - домен вашего сайта). В обоих случаях вы должны увидеть текст из файла.
* Также не забудьте про наличие файлов на поддоменах. Например, m.yourdomain.ru


Поздравляем вас, вы интегрировали модуль Flocktory PushReward! Теперь вы можете продолжить настраивать сценарии с вашим аккаунт-менеджером и запускать модуль.
