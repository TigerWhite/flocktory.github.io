---
layout: doc
title:  "Общая интеграция"
section: integration
order: 1
---

## Необходимые требования для начала интеграции
Требований к сайту для начала интеграции нет.


## Общая интеграция Flocktory
Прежде чем подключить любой из модулей Flocktory, необходимо провести общую интеграцию. Для этого необходимо выполнить следующие действия:
1. Поместите в тег ```<head>``` каждой страницы вашего сайта следующий код:
```html
<script type="text/javascript" src="https://api.flocktory.com/v2/loader.js?site_id=YOUR_SITE_ID" async="async"></script>
```
Он является общим для всех продуктов Flocktory, поэтому достаточно разместить его на странице один раз, даже если на странице установлено несколько модулей (например Exchange и Post-checkout);

2. Замените YOUR_SITE_ID на присвоенный вашему сайту ID (узнать его вы можете в [личном кабинете](https://cabinet.flocktory.com/)):
![screen1](https://i.imgur.com/8NyMtkq.jpg)
 

## На что стоит обратить внимание
1. Site_id должен быть корректным, иначе будут запускаться кампании, предназначенные для других сайтов;
2. Часто встречается ошибка, когда при вставке id ставят пробел после знака равенства - это неправильно и код работать не будет;
3. Код обязательно должен срабатывать на каждой странице сайта и иметь статус 200.

## Как проверить, что код работает
1. Откройте любую страницу Вашего сайта, нажмите F12 или Shift + Ctrl + I чтобы открыть панель инструментов разработчика;
2. Выберите вкладку Network и обновите страницу:
![screen2](https://i.imgur.com/gzevnEq.jpg)
 
3. В поле «Фильтр» введите слово Flocktory:
![screen3](https://i.imgur.com/8chvIi4.jpg)
 
4. Среди появившихся запросов выберите loader.js и выберите вкладку «Headers»:
![screen4](https://i.imgur.com/IWGzd0S.jpg)
![screen5](https://i.imgur.com/BFVMqMq.jpg)
 
5. Убедитесь, что код имеет статус 200, и прокрутите содержимое вкладки до конца, пока не увидите site_id - он должен совпадать с вашим:
![screen6](https://i.imgur.com/eyK1z2N.jpg)
![screen7](https://i.imgur.com/5UvFEOj.jpg)

6. Если при проверке не было обнаружено ошибок, то общая интеграция завершена.
