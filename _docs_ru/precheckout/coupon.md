---
layout: doc
title:  "Obtain coupon"
section: precheckout
---

Купон – это вознаграждение, выдаваемое пользователю. Купон содержит код, который пользователь может ввести на сайте партнёра, чтобы получить скидку или другой бонус.
Так же купон сорержит ссылку на наш лендинг, объясняющий что делать с купоном. В зависимости от механики, может использоваться только код, только ссылка или обе сущности.

# Привязка купона
Чтобы использовать купон, привяжите его к виджету и сохраните кампанию. Если купона нет, его можно добавить в разделе &laquo;Купоны&raquo;.

![create.jpg](https://assets.flocktory.com/uploads/clients/1559/57bc8052-aecf-4b6d-8c01-e8142c4a3a6c_assign-coupon.jpg)

# Получение купона

## Легкие виджеты
Легкий виджет рендерится на сервере. Никаких дополнительных действий для получения купона делать ненужно.
Доступные переменные:

* код купона
```clojure
{% raw %} {{ motivation_reward_coupon }} {% endraw %}
```

* ссылка на получение вознаграждения
```clojure
{% raw %} {{ motivation_reward_url }} {% endraw %}
```

* значение вознаграждения
```clojure
{% raw %} {{ motivation_value }} {% endraw %}
```

    **Пример:** к виджету в кампании привязана мотивация 500 рублей. motivation_value будет &laquo;500 рублей&raquo;


* значение вознаграждения со словом &laquo;скидка&raquo;
 ```clojure
 {% raw %} {{ reward_value }} {% endraw %}
 ```

    **Пример:** к виджету привязана мотивация 500 рублей. motivation_value будет равен &laquo;скидка 500 рублей&raquo;


## Bridge (deprecated)
После загрузки виджета нужно вызвать метод `bridge.getCoupon()`. Метод вернёт Promise с объектом-купоном.
Поля объекта
* code — код купона
* link – ссылка на получение вознаграждения

Пример получения купона:

```
bridge.getCoupon().then(function(coupon) {
  var code = coupon.code;
  // Можно использовать код купона
});
```
